{"version":3,"sources":["../../app/controllers/base.controller.js"],"names":["BaseController","params","whitelist","filtered","key","indexOf","err","console","error","formatted","message","errors","type","hasOwnProperty"],"mappings":";;;;;;;;;;;;;;;;IAEMA,c;;;;;;;+BACQC,M,EAAQC,S,EAA2B;AAC/C,OAAMC,WAAW,EAAjB;AACA,QAAK,IAAMC,GAAX,IAAkBH,MAAlB,EAA0B;AACzB,QAAIC,UAAUG,OAAV,CAAkBD,GAAlB,IAAyB,CAAC,CAA9B,EAAiC;AAChCD,cAASC,GAAT,IAAgBH,OAAOG,GAAP,CAAhB;AACA;AACD;AACD,UAAOD,QAAP;AACA;;;iCAEcG,G,EAAK;AACnB,OAAI,CAACA,GAAL,EAAU;AACT;AACA,WAAOC,QAAQC,KAAR,CAAc,kBAAd,CAAP;AACA;;AAED,OAAMC,YAAY;AACjBC,aAASJ,IAAII;AADI,IAAlB;;AAIA,OAAIJ,IAAIK,MAAR,EAAgB;AACfF,cAAUE,MAAV,GAAmB,EAAnB;AACA,QAAMA,SAASL,IAAIK,MAAnB;AACA,SAAK,IAAMC,IAAX,IAAmBD,MAAnB,EAA2B;AAC1B,SAAIA,OAAOE,cAAP,CAAsBD,IAAtB,CAAJ,EAAiC;AAChCH,gBAAUE,MAAV,CAAiBC,IAAjB,IAAyBD,OAAOC,IAAP,EAAaF,OAAtC;AACA;AACD;AACD;;AAED,UAAOD,SAAP;AACA;;;;;kBAGaT,c","file":"base.controller.js","sourcesContent":["/* @flow */\n\nclass BaseController {\n\tfilterParams(params, whitelist : Array<string>) {\n\t\tconst filtered = {}\n\t\tfor (const key in params) {\n\t\t\tif (whitelist.indexOf(key) > -1) {\n\t\t\t\tfiltered[key] = params[key]\n\t\t\t}\n\t\t}\n\t\treturn filtered\n\t}\n\n\tformatApiError(err) {\n\t\tif (!err) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\treturn console.error('Provide an error')\n\t\t}\n\n\t\tconst formatted = {\n\t\t\tmessage: err.message,\n\t\t};\n\n\t\tif (err.errors) {\n\t\t\tformatted.errors = {}\n\t\t\tconst errors = err.errors\n\t\t\tfor (const type in errors) {\n\t\t\t\tif (errors.hasOwnProperty(type)) {\n\t\t\t\t\tformatted.errors[type] = errors[type].message\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn formatted\n\t}\n}\n\nexport default BaseController\n"]}